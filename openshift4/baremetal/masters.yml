parameters:
 prefix: openshift
 memory: 16384
 numcpus: 8
 disk_size: 30
 extra_disks: []
 provisioning_net: provisioning
 external_net: baremetal
 external_macs: []
 masters: 3

{% for num in range(0, masters) %}
{{ prefix }}-master-{{ num }}:
 numcpus: {{ numcpus }}
 start: false
 memory: {{ memory }}
 nets:
  - name: {{ provisioning_net }}
    mac: aa:bb:cc:dd:ee:0{{ num + 2 }}
  - name: {{ external_net }}
{% if external_macs|length == masters %}
    mac: {{ external_macs[num] }}
{% endif %}
 disks: 
{%- for size in [disk_size] + extra_disks %}
  - size: {{ size }}
    interface: scsi
{%- endfor %}
{%- endfor %}
